!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(e){e.extend({highlight:function(t,n,i,a){if(3===t.nodeType){var r=t.data.match(n);if(r){var s=document.createElement(i||"span");s.className=a||"highlight";var h=t.data.indexOf(r[1],r.index),l=t.splitText(h);l.splitText(r[1].length);var d=l.cloneNode(!0);return s.appendChild(d),l.parentNode.replaceChild(s,l),1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&(t.tagName!==i.toUpperCase()||t.className!==a))for(var o=0;o<t.childNodes.length;o++)o+=e.highlight(t.childNodes[o],n,i,a);return 0}}),e.fn.unhighlight=function(t){var n={className:"highlight",element:"span"};return e.extend(n,t),this.find(n.element+"."+n.className).each(function(){var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()},e.fn.highlight=function(t,n){var i={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1,wordsBoundary:"\\b"};if(e.extend(i,n),"string"==typeof t&&(t=[t]),t=e.grep(t,function(e,t){return""!=e}),0===(t=e.map(t,function(e,t){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).length)return this;var a=i.caseSensitive?"":"i",r="("+t.join("|")+")";i.wordsOnly&&(r=i.wordsBoundary+r+i.wordsBoundary);var s=new RegExp(r,a);return this.each(function(){e.highlight(this,s,i.element,i.className)})}});